import{f as F,u as k,b as w,r as t,t as I,j as e,B as i,I as x,m as f}from"./index-b4683d61.js";import{b as B,f as E}from"./creditMall-68ad6dbc.js";import{B as L}from"./index-5f967da4.js";import{F as r}from"./index-d434f3eb.js";import"./LeftOutlined-9e6e73a2.js";import"./row-4ee18533.js";import"./responsiveObserver-dc429d3b.js";const H=()=>{const l=new URLSearchParams(F().search),[n]=r.useForm(),b=k(),d=w(),[m,o]=t.useState(!1),[u,j]=t.useState(""),[p,g]=t.useState(""),[h,_]=t.useState(""),[c,v]=t.useState(Number(l.get("id")));t.useState(Number(l.get("goods_is_v"))),t.useEffect(()=>{document.title="积分订单发货",b(I("积分订单发货"))},[]),t.useEffect(()=>{v(Number(l.get("id"))),C()},[l.get("id")]);const C=()=>{c!==0&&B(c).then(s=>{var a=s.data;n.setFieldsValue({express_number:a.express_number}),j(a.user_contact_address),_(a.user_contact_mobile),g(a.user_contact_name)})},N=()=>{var s=document.createElement("input");s.value=u+" "+p+" "+h,document.body.appendChild(s),s.select(),document.execCommand("Copy"),document.body.removeChild(s),f.success("复制成功")},y=s=>{m||(o(!0),E(c,s).then(a=>{o(!1),f.success("保存成功！"),d(-1)}).catch(a=>{o(!1)}))},S=s=>{console.log("Failed:",s)};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(L,{title:"积分订单发货"}),e.jsx("div",{className:"float-left mt-30",children:e.jsxs(r,{form:n,name:"creditMall-orders-update",labelCol:{span:3},wrapperCol:{span:21},initialValues:{remember:!0},onFinish:y,onFinishFailed:S,autoComplete:"off",children:[e.jsx(r.Item,{label:"收货人地址",children:e.jsxs("div",{className:"d-flex",children:[e.jsxs("div",{className:"d-flex",children:[u," ",p,h]}),e.jsx("div",{className:"ml-30",children:e.jsx(i,{type:"link",className:"c-primary",onClick:()=>N(),children:"复制"})})]})}),e.jsx(r.Item,{label:"运单号",name:"express_number",rules:[{required:!0,message:"请输入运单号!"}],children:e.jsx(x,{style:{width:300},placeholder:"请输入运单号",allowClear:!0})}),e.jsx(r.Item,{label:"备注",name:"remark",rules:[{required:!0,message:"请输入备注!"}],children:e.jsx(x.TextArea,{style:{width:500,minHeight:120},placeholder:"请输入备注",allowClear:!0,maxLength:150})})]})}),e.jsx("div",{className:"bottom-menus",children:e.jsxs("div",{className:"bottom-menus-box",children:[e.jsx("div",{children:e.jsx(i,{loading:m,type:"primary",onClick:()=>n.submit(),children:"保存"})}),e.jsx("div",{className:"ml-24",children:e.jsx(i,{type:"default",onClick:()=>d(-1),children:"取消"})})]})})]})};export{H as default};
