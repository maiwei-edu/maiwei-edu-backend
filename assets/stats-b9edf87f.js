import{f as E,u as L,r as s,t as b,j as a}from"./index-b4683d61.js";import{q as C}from"./live-ef2dd82c.js";import{D as I}from"./index-44896e29.js";import{B as N}from"./index-5f967da4.js";import{T as O}from"./Table-76e623b5.js";import"./LeftOutlined-9e6e73a2.js";import"./addEventListener-a27ae3f4.js";import"./useIcons-e0af7133.js";import"./CheckOutlined-e6bc730e.js";import"./Pagination-d2c763c6.js";import"./useForceUpdate-f2aff5e0.js";import"./responsiveObserver-dc429d3b.js";import"./index-c09cc6d7.js";import"./index-10f1a096.js";import"./iconUtil-f3f90360.js";const Y=()=>{const r=new URLSearchParams(E().search),m=L(),[u,n]=s.useState(!1),[x,f]=s.useState([]),[d,h]=s.useState(""),[c,o]=s.useState(""),[p,B]=s.useState(!1),[F,_]=s.useState(0),[M,j]=s.useState(0),[R,S]=s.useState(0),[l,g]=s.useState(Number(r.get("id")));s.useEffect(()=>{document.title="直播课程统计",m(b("直播课程统计"))},[]),s.useEffect(()=>{g(Number(r.get("id")))},[r.get("id")]),s.useEffect(()=>{v()},[l,d,c,p]);const v=()=>{u||(n(!0),C(l,{sort:d,order:c}).then(e=>{_(e.data.max_chat_count),S(e.data.max_user_count),j(e.data.max_duration),f(e.data.videos),n(!1)}).catch(e=>{n(!1)}))},w=[{title:"直播课",render:(e,t)=>a.jsx("span",{children:t.title})},{title:"学习人数",width:200,defaultSortOrder:void 0,sorter:(e,t)=>e.user_count-t.user_count,dataIndex:"user_count",render:(e,t)=>a.jsx(a.Fragment,{children:t.status===0||t.status===1?a.jsx("span",{children:"-"}):a.jsx("span",{children:t.user_count})})},{title:"聊天消息数",width:200,defaultSortOrder:void 0,sorter:(e,t)=>e.chat_count-t.chat_count,dataIndex:"chat_count",render:(e,t)=>a.jsx(a.Fragment,{children:t.status===0||t.status===1?a.jsx("span",{children:"-"}):a.jsx("span",{children:t.chat_count})})},{title:"直播时长",width:200,defaultSortOrder:void 0,sorter:(e,t)=>e.real_duration-t.real_duration,dataIndex:"real_duration",render:(e,t)=>a.jsx(a.Fragment,{children:t.status===0||t.status===1?a.jsx("span",{children:"-"}):a.jsx(I,{duration:t.real_duration})})}],D=(e,t,i,T)=>{i.order==="ascend"?o("asc"):i.order==="descend"?o("desc"):o(""),h(i.field)};return a.jsxs("div",{className:"meedu-main-body",children:[a.jsx(N,{title:"直播课程统计"}),a.jsx("div",{className:"float-left mt-30",children:a.jsx(O,{loading:u,columns:w,dataSource:x,rowKey:e=>e.id,pagination:!1,onChange:D})})]})};export{Y as default};
