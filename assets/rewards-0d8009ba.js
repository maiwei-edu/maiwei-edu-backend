import{u as C,r,t as k,j as e,I,B as j}from"./index-b4683d61.js";import{r as B}from"./multi-share-e6afeacd.js";import{B as D}from"./index-5f967da4.js";import{T as z}from"./Table-76e623b5.js";import"./LeftOutlined-9e6e73a2.js";import"./addEventListener-a27ae3f4.js";import"./useIcons-e0af7133.js";import"./CheckOutlined-e6bc730e.js";import"./Pagination-d2c763c6.js";import"./useForceUpdate-f2aff5e0.js";import"./responsiveObserver-dc429d3b.js";import"./index-c09cc6d7.js";import"./index-10f1a096.js";import"./iconUtil-f3f90360.js";const Q=()=>{const f=C(),[o,a]=r.useState(!1),[g,c]=r.useState([]),[i,l]=r.useState(1),[n,m]=r.useState(50),[v,_]=r.useState(0),[d,h]=r.useState(!1),[x,u]=r.useState("");r.useEffect(()=>{document.title="奖励记录",f(k("奖励记录"))},[]),r.useEffect(()=>{w()},[i,n,d]);const w=()=>{o||(a(!0),B({page:i,size:n,order_id:x}).then(t=>{c(t.data.data),_(t.data.total),a(!1)}).catch(t=>{a(!1)}))},N=()=>{l(1),m(50),c([]),u(""),h(!d)},S={current:i,pageSize:n,total:v,onChange:(t,s)=>b(t,s),showSizeChanger:!0},b=(t,s)=>{l(t),m(s)},y=[{title:"支付订单",width:200,render:(t,s)=>e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s.order.order_id}),e.jsx("br",{}),e.jsxs("span",{style:{color:"rgba(0,0,0,.2)"},children:["ID: ",s.order_id]})]})},{title:"订单商品",render:(t,s)=>e.jsxs("div",{className:"d-flex",children:[s.order.goods&&s.order.goods.map(p=>e.jsx("div",{className:"mr-10",children:p.goods_name},p.id)),!s.order.goods&&e.jsx("span",{children:"-"})]})},{title:"支付用户",width:300,render:(t,s)=>e.jsxs(e.Fragment,{children:[s.order_user&&e.jsx("div",{className:"user-item d-flex",children:e.jsxs("div",{children:[e.jsx("span",{children:s.order_user.nick_name}),e.jsx("br",{}),e.jsxs("span",{style:{color:"rgba(0,0,0,.2)"},children:["ID: ",s.order_user.id]})]})}),!s.order_user&&e.jsx("span",{className:"c-red",children:"-"})]})},{title:"一级学员奖励",width:260,render:(t,s)=>e.jsxs(e.Fragment,{children:[s.user1?e.jsxs("div",{style:{color:"rgba(255,0,0,1)"},className:"flex flex-column",children:[e.jsx("div",{children:s.user1.nick_name}),e.jsxs("div",{children:[s.reward1,"元"]})]}):null,!s.user1&&e.jsx("span",{children:"-"})]})},{title:"二级学员奖励",width:260,render:(t,s)=>e.jsxs(e.Fragment,{children:[s.user2?e.jsxs("div",{style:{color:"rgba(255,0,0,.6)"},className:"flex flex-column",children:[e.jsx("div",{children:s.user2.nick_name}),e.jsxs("div",{children:[s.reward2,"元"]})]}):null,!s.user2&&e.jsx("span",{children:"-"})]})}];return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(D,{title:"奖励记录"}),e.jsx("div",{className:"float-left j-b-flex mb-30 mt-30",children:e.jsxs("div",{className:"d-flex",children:[e.jsx(I,{value:x,onChange:t=>{u(t.target.value)},allowClear:!0,style:{width:150},placeholder:"订单ID"}),e.jsx(j,{className:"ml-10",onClick:N,children:"清空"}),e.jsx(j,{className:"ml-10",type:"primary",onClick:()=>{l(1),h(!d)},children:"筛选"})]})}),e.jsx("div",{className:"float-left",children:e.jsx(z,{loading:o,columns:y,dataSource:g,rowKey:t=>t.id,pagination:S})})]})};export{Q as default};
