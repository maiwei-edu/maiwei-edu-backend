import{u as j,b as y,r as i,t as g,j as t,S as b,E as k,m as I,M as C}from"./index-b4683d61.js";import{l as E,d as P}from"./role-513b287e.js";import{P as r}from"./index-573a6ce5.js";import{T as S}from"./Table-76e623b5.js";import"./addEventListener-a27ae3f4.js";import"./useIcons-e0af7133.js";import"./CheckOutlined-e6bc730e.js";import"./Pagination-d2c763c6.js";import"./LeftOutlined-9e6e73a2.js";import"./useForceUpdate-f2aff5e0.js";import"./responsiveObserver-dc429d3b.js";import"./index-c09cc6d7.js";import"./index-10f1a096.js";import"./iconUtil-f3f90360.js";const{confirm:v}=C,$=()=>{const d=j(),n=y(),[l,s]=i.useState(!1),[p,o]=i.useState([]),[c,m]=i.useState(!1);i.useEffect(()=>{document.title="VIP会员",d(g("VIP会员"))},[]),i.useEffect(()=>{u()},[c]);const u=()=>{l||(s(!0),E().then(e=>{o(e.data.data),s(!1)}).catch(e=>{s(!1)}))},x=[{title:"ID",width:120,render:(e,a)=>t.jsx("span",{children:a.id})},{title:"会员名称",dataIndex:"name",render:e=>t.jsx("span",{children:e})},{title:"天数",dataIndex:"expire_days",render:e=>t.jsx("span",{children:e})},{title:"价格",dataIndex:"charge",render:e=>t.jsxs("span",{children:[e,"元"]})},{title:"操作",width:130,render:(e,a)=>t.jsxs(b,{children:[t.jsx(r,{type:"link",text:"编辑",class:"c-primary",icon:null,p:"role.update",onClick:()=>{n("/editrole?id="+a.id)},disabled:null}),t.jsx(r,{type:"link",text:"删除",class:"c-red",icon:null,p:"role.destroy",onClick:()=>{h(a.id)},disabled:null})]})}],f=()=>{o([]),m(!c)},h=e=>{e!==0&&v({title:"操作确认",icon:t.jsx(k,{}),content:"确认删除此VIP？",centered:!0,okText:"确认",cancelText:"取消",onOk(){l||(s(!0),P(e).then(()=>{s(!1),I.success("删除成功"),f()}).catch(a=>{s(!1)}))},onCancel(){console.log("Cancel")}})};return t.jsxs("div",{className:"meedu-main-body",children:[t.jsx("div",{className:"float-left mb-30",children:t.jsx(r,{type:"primary",text:"新建会员",class:"",icon:null,p:"role.store",onClick:()=>n("/addrole"),disabled:null})}),t.jsx("div",{className:"float-left",children:t.jsx(S,{loading:l,columns:x,dataSource:p,rowKey:e=>e.id,pagination:!1})})]})};export{$ as default};
