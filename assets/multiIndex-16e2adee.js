import{r as a,j as t,I as K,B as y,a as L,M as I,m as D}from"./index-b4683d61.js";import{l as E}from"./course-7dc1c12e.js";import{T as _}from"./Table-76e623b5.js";import{l as T}from"./live-ef2dd82c.js";import{l as M}from"./role-513b287e.js";import{l as A}from"./book-a8b4ca06.js";import{l as O}from"./paper-7f0d6524.js";import{l as $}from"./practice-e65e37d7.js";import{l as B}from"./mock-274446b7.js";import{T as V}from"./index-d198db66.js";const F=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState(1),[r,S]=a.useState(10),[w,C]=a.useState(0),[i,l]=a.useState(!1),[f,m]=a.useState("");a.useEffect(()=>{b()},[u,r,i]);const b=()=>{g||(d(!0),E({page:u,size:r,sort:"created_at",order:"desc",keywords:f}).then(e=>{p(e.data.courses.data),C(e.data.courses.total),d(!1)}).catch(e=>{d(!1)}))},v=()=>{h(1),S(10),p([]),m(""),l(!i)},k={current:u,pageSize:r,total:w,onChange:(e,s)=>N(e,s),showSizeChanger:!0},N=(e,s)=>{h(e),S(s)},P=[{title:"课程ID",width:120,render:(e,s)=>t.jsx("span",{children:s.id})},{title:"课程",render:(e,s)=>t.jsxs("div",{className:"d-flex",children:[t.jsx("div",{children:t.jsx("img",{src:s.thumb,width:"80",height:"60"})}),t.jsx("div",{className:"ml-15",children:s.title})]})},{title:"价格",width:120,dataIndex:"charge",render:e=>t.jsxs("span",{children:["￥",e]})}],R={onChange:(e,s)=>{let n=s,j=[];if(n){for(var o=0;o<n.length;o++){let z={type:"vod",id:n[o].id,title:n[o].title,thumb:n[o].thumb,charge:n[o].charge};j.push(z)}c.onChange(j)}},getCheckboxProps:e=>({disabled:c.selected.indexOf(e.id)!==-1})};return t.jsxs("div",{className:"float-left",children:[t.jsxs("div",{className:"float-left mb-15",children:[t.jsx(K,{value:f,onChange:e=>{m(e.target.value)},allowClear:!0,style:{width:150},placeholder:"关键字"}),t.jsx(y,{className:"ml-10",onClick:v,children:"清空"}),t.jsx(y,{className:"ml-10",type:"primary",onClick:()=>{h(1),l(!i)},children:"筛选"})]}),t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"checkbox",...R},loading:g,columns:P,dataSource:x,rowKey:e=>e.id,pagination:k})})]})},H=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState(1),[r,S]=a.useState(10),[w,C]=a.useState(0),[i,l]=a.useState(!1),[f,m]=a.useState("");a.useEffect(()=>{b()},[u,r,i]);const b=()=>{g||(d(!0),T({page:u,size:r,sort:"created_at",order:"desc",keywords:f}).then(e=>{p(e.data.data.data),C(e.data.data.total),d(!1)}).catch(e=>{d(!1)}))},v=()=>{h(1),S(10),p([]),m(""),l(!i)},k={current:u,pageSize:r,total:w,onChange:(e,s)=>N(e,s),showSizeChanger:!0},N=(e,s)=>{h(e),S(s)},P=[{title:"课程ID",width:120,render:(e,s)=>t.jsx("span",{children:s.id})},{title:"课程",render:(e,s)=>t.jsxs("div",{className:"d-flex",children:[t.jsx("div",{children:t.jsx("img",{src:s.thumb,width:"80",height:"60"})}),t.jsx("div",{className:"ml-15",children:s.title})]})},{title:"价格",width:120,dataIndex:"charge",render:e=>t.jsxs("span",{children:["￥",e]})}],R={onChange:(e,s)=>{let n=s,j=[];if(n){for(var o=0;o<n.length;o++){let z={type:"live",id:n[o].id,title:n[o].title,thumb:n[o].thumb,charge:n[o].charge};j.push(z)}c.onChange(j)}},getCheckboxProps:e=>({disabled:c.selected.indexOf(e.id)!==-1})};return t.jsxs("div",{className:"float-left",children:[t.jsxs("div",{className:"float-left mb-15",children:[t.jsx(K,{value:f,onChange:e=>{m(e.target.value)},allowClear:!0,style:{width:150},placeholder:"关键字"}),t.jsx(y,{className:"ml-10",onClick:v,children:"清空"}),t.jsx(y,{className:"ml-10",type:"primary",onClick:()=>{h(1),l(!i)},children:"筛选"})]}),t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"checkbox",...R},loading:g,columns:P,dataSource:x,rowKey:e=>e.id,pagination:k})})]})},X=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState([]),[r,S]=a.useState(!1);a.useEffect(()=>{h(c.selected)},[c.selected]),a.useEffect(()=>{w()},[r]);const w=()=>{g||(d(!0),M().then(l=>{p(l.data.data),d(!1)}).catch(l=>{d(!1)}))},C=[{title:"ID",width:120,render:(l,f)=>t.jsx("span",{children:f.id})},{title:"VIP",render:(l,f)=>t.jsx("div",{children:f.name})},{title:"价格",width:120,dataIndex:"charge",render:l=>t.jsxs("span",{children:["￥",l]})}],i={onChange:(l,f)=>{let m=f[0];h(l);var b=[];if(m){let v={type:"vip",id:m.id,title:m.name,thumb:null,charge:m.charge};b.push(v),c.onChange(b)}},selectedRowKeys:u};return t.jsx("div",{className:"float-left",children:t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"radio",...i},loading:g,columns:C,dataSource:x,rowKey:l=>l.id,pagination:!1})})})},Y=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState(1),[r,S]=a.useState(10),[w,C]=a.useState(0),[i,l]=a.useState(!1),[f,m]=a.useState("");a.useEffect(()=>{b()},[u,r,i]);const b=()=>{g||(d(!0),A({page:u,size:r,sort:"created_at",order:"desc",key:f}).then(e=>{p(e.data.data.data),C(e.data.data.total),d(!1)}).catch(e=>{d(!1)}))},v=()=>{h(1),S(10),p([]),m(""),l(!i)},k={current:u,pageSize:r,total:w,onChange:(e,s)=>N(e,s),showSizeChanger:!0},N=(e,s)=>{h(e),S(s)},P=[{title:"电子书ID",width:120,render:(e,s)=>t.jsx("span",{children:s.id})},{title:"电子书",render:(e,s)=>t.jsxs("div",{className:"d-flex",children:[t.jsx("div",{children:t.jsx("img",{src:s.thumb,width:"60",height:"80"})}),t.jsx("div",{className:"ml-15",children:s.name})]})},{title:"价格",width:120,dataIndex:"charge",render:e=>t.jsxs("span",{children:["￥",e]})}],R={onChange:(e,s)=>{let n=s,j=[];if(n){for(var o=0;o<n.length;o++){let z={type:"book",id:n[o].id,title:n[o].name,thumb:n[o].thumb,charge:n[o].charge};j.push(z)}c.onChange(j)}},getCheckboxProps:e=>({disabled:c.selected.indexOf(e.id)!==-1})};return t.jsxs("div",{className:"float-left",children:[t.jsxs("div",{className:"float-left mb-15",children:[t.jsx(K,{value:f,onChange:e=>{m(e.target.value)},allowClear:!0,style:{width:150},placeholder:"关键字"}),t.jsx(y,{className:"ml-10",onClick:v,children:"清空"}),t.jsx(y,{className:"ml-10",type:"primary",onClick:()=>{h(1),l(!i)},children:"筛选"})]}),t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"checkbox",...R},loading:g,columns:P,dataSource:x,rowKey:e=>e.id,pagination:k})})]})},Z=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState(1),[r,S]=a.useState(10),[w,C]=a.useState(0),[i,l]=a.useState(!1),[f,m]=a.useState("");a.useEffect(()=>{b()},[u,r,i]);const b=()=>{g||(d(!0),O({page:u,size:r,sort:"created_at",order:"desc",key:f}).then(e=>{p(e.data.data.data),C(e.data.data.total),d(!1)}).catch(e=>{d(!1)}))},v=()=>{h(1),S(10),p([]),m(""),l(!i)},k={current:u,pageSize:r,total:w,onChange:(e,s)=>N(e,s),showSizeChanger:!0},N=(e,s)=>{h(e),S(s)},P=[{title:"试卷ID",width:120,render:(e,s)=>t.jsx("span",{children:s.id})},{title:"试卷",render:(e,s)=>t.jsx("div",{children:s.title})}],R={onChange:(e,s)=>{let n=s,j=[];if(n){for(var o=0;o<n.length;o++){let z={type:"paper",id:n[o].id,title:n[o].title,thumb:null,charge:n[o].charge};j.push(z)}c.onChange(j)}},getCheckboxProps:e=>({disabled:c.selected.indexOf(e.id)!==-1})};return t.jsxs("div",{className:"float-left",children:[t.jsxs("div",{className:"float-left mb-15",children:[t.jsx(K,{value:f,onChange:e=>{m(e.target.value)},allowClear:!0,style:{width:150},placeholder:"关键字"}),t.jsx(y,{className:"ml-10",onClick:v,children:"清空"}),t.jsx(y,{className:"ml-10",type:"primary",onClick:()=>{h(1),l(!i)},children:"筛选"})]}),t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"checkbox",...R},loading:g,columns:P,dataSource:x,rowKey:e=>e.id,pagination:k})})]})},q=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState(1),[r,S]=a.useState(10),[w,C]=a.useState(0),[i,l]=a.useState(!1),[f,m]=a.useState("");a.useEffect(()=>{b()},[u,r,i]);const b=()=>{g||(d(!0),$({page:u,size:r,sort:"created_at",order:"desc",key:f}).then(e=>{p(e.data.data.data),C(e.data.data.total),d(!1)}).catch(e=>{d(!1)}))},v=()=>{h(1),S(10),p([]),m(""),l(!i)},k={current:u,pageSize:r,total:w,onChange:(e,s)=>N(e,s),showSizeChanger:!0},N=(e,s)=>{h(e),S(s)},P=[{title:"练习ID",width:120,render:(e,s)=>t.jsx("span",{children:s.id})},{title:"练习",render:(e,s)=>t.jsx("div",{children:s.name})}],R={onChange:(e,s)=>{let n=s,j=[];if(n){for(var o=0;o<n.length;o++){let z={type:"practice",id:n[o].id,title:n[o].name,thumb:null,charge:n[o].charge};j.push(z)}c.onChange(j)}},getCheckboxProps:e=>({disabled:c.selected.indexOf(e.id)!==-1})};return t.jsxs("div",{className:"float-left",children:[t.jsxs("div",{className:"float-left mb-15",children:[t.jsx(K,{value:f,onChange:e=>{m(e.target.value)},allowClear:!0,style:{width:150},placeholder:"关键字"}),t.jsx(y,{className:"ml-10",onClick:v,children:"清空"}),t.jsx(y,{className:"ml-10",type:"primary",onClick:()=>{h(1),l(!i)},children:"筛选"})]}),t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"checkbox",...R},loading:g,columns:P,dataSource:x,rowKey:e=>e.id,pagination:k})})]})},G=c=>{const[g,d]=a.useState(!1),[x,p]=a.useState([]),[u,h]=a.useState(1),[r,S]=a.useState(10),[w,C]=a.useState(0),[i,l]=a.useState(!1),[f,m]=a.useState("");a.useEffect(()=>{b()},[u,r,i]);const b=()=>{g||(d(!0),B({page:u,size:r,sort:"created_at",order:"desc",key:f}).then(e=>{p(e.data.data),C(e.data.total),d(!1)}).catch(e=>{d(!1)}))},v=()=>{h(1),S(10),p([]),m(""),l(!i)},k={current:u,pageSize:r,total:w,onChange:(e,s)=>N(e,s),showSizeChanger:!0},N=(e,s)=>{h(e),S(s)},P=[{title:"模拟卷ID",width:120,render:(e,s)=>t.jsx("span",{children:s.id})},{title:"模拟卷",render:(e,s)=>t.jsx("div",{children:s.title})}],R={onChange:(e,s)=>{let n=s,j=[];if(n){for(var o=0;o<n.length;o++){let z={type:"mock_paper",id:n[o].id,title:n[o].title,thumb:null,charge:n[o].charge};j.push(z)}c.onChange(j)}},getCheckboxProps:e=>({disabled:c.selected.indexOf(e.id)!==-1})};return t.jsxs("div",{className:"float-left",children:[t.jsxs("div",{className:"float-left mb-15",children:[t.jsx(K,{value:f,onChange:e=>{m(e.target.value)},allowClear:!0,style:{width:150},placeholder:"关键字"}),t.jsx(y,{className:"ml-10",onClick:v,children:"清空"}),t.jsx(y,{className:"ml-10",type:"primary",onClick:()=>{h(1),l(!i)},children:"筛选"})]}),t.jsx("div",{className:"float-left mb-15",children:t.jsx(_,{rowSelection:{type:"checkbox",...R},loading:g,columns:P,dataSource:x,rowKey:e=>e.id,pagination:k})})]})},oe=c=>{const[g,d]=a.useState(null),[x,p]=a.useState({}),[u,h]=a.useState([]),[r,S]=a.useState(""),w=L(l=>l.enabledAddonsConfig.value.enabledAddons);a.useEffect(()=>{if(!c.enabledResource)p({});else{let l=c.enabledResource.split(","),f={};l.forEach(m=>{f[m]=1}),p(f)}},[c.enabledResource]),a.useEffect(()=>{let l=[];x.paper&&!c.type?S("paper"):S("vod"),x.vod&&l.push({label:"录播",key:"vod"}),x.vip&&l.push({label:"VIP会员",key:"vip"}),x.live&&w.Zhibo&&l.push({label:"直播",key:"live"}),x.book&&w.MeeduBooks&&l.push({label:"电子书",key:"book"}),w.Paper&&(x.paper&&l.push({label:"试卷",key:"paper"}),x.mock_paper&&l.push({label:"模拟卷",key:"mock_paper"}),x.practice&&l.push({label:"练习",key:"practice"})),h(l)},[x,w]);const C=l=>{S(l)},i=l=>{d(l)};return t.jsx(t.Fragment,{children:c.open?t.jsxs(I,{title:"选择",closable:!1,onCancel:()=>{c.onCancel()},open:!0,width:900,maskClosable:!1,onOk:()=>{if(!g||g.length===0){D.error("请先选择内容");return}c.onSelected(g)},centered:!0,children:[t.jsx("div",{className:"float-left",children:t.jsx(V,{defaultActiveKey:r,items:u,onChange:C})}),t.jsxs("div",{className:"float-left",style:{maxHeight:520,overflowX:"hidden",overflowY:"auto",marginBottom:10},children:[r==="vod"&&t.jsx(F,{selected:c.selectedVod,onChange:i}),r==="vip"&&t.jsx(X,{selected:c.selectedVip,onChange:i}),r==="live"&&t.jsx(H,{selected:c.selectedLive,onChange:i}),r==="book"&&t.jsx(Y,{selected:c.selectedBook,onChange:i}),r==="paper"&&t.jsx(Z,{selected:c.selectedPaper,onChange:i}),r==="practice"&&t.jsx(q,{selected:c.selectedPractice,onChange:i}),r==="mock-paper"&&t.jsx(G,{selected:c.selectedMockPaper,onChange:i})]})]}):null})};export{oe as S};
