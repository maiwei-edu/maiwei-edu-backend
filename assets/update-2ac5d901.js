import{f as g,u as j,b,r as s,t as v,j as e,I as F,B as d,m as N}from"./index-3fd54424.js";import{z as C,A as y}from"./member-4894e8dc.js";import{B}from"./index-c3c15456.js";import{F as n}from"./index-0ca68444.js";import"./LeftOutlined-a0f8cfa6.js";import"./row-98a37fbf.js";import"./responsiveObserver-a0dea2e5.js";const U=()=>{const a=new URLSearchParams(g().search),[r]=n.useForm(),u=j(),m=b(),[c,i]=s.useState(!1),[o,p]=s.useState(Number(a.get("id")));s.useEffect(()=>{document.title="编辑学员标签",u(v("编辑学员标签"))},[]),s.useEffect(()=>{p(Number(a.get("id"))),f()},[a.get("id")]);const f=()=>{o!==0&&C(o).then(t=>{var l=t.data;r.setFieldsValue({name:l.name})})},h=t=>{c||(i(!0),y(o,t).then(l=>{i(!1),N.success("保存成功！"),m(-1)}).catch(l=>{i(!1)}))},x=t=>{console.log("Failed:",t)};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(B,{title:"编辑学员标签"}),e.jsx("div",{className:"float-left mt-30",children:e.jsx(n,{form:r,name:"member-tag-update",labelCol:{span:3},wrapperCol:{span:21},initialValues:{remember:!0},onFinish:h,onFinishFailed:x,autoComplete:"off",children:e.jsx(n.Item,{label:"标签名",name:"name",rules:[{required:!0,message:"请输入标签名!"}],children:e.jsx(F,{style:{width:300},placeholder:"请输入标签名",allowClear:!0})})})}),e.jsx("div",{className:"bottom-menus",children:e.jsxs("div",{className:"bottom-menus-box",children:[e.jsx("div",{children:e.jsx(d,{loading:c,type:"primary",onClick:()=>r.submit(),children:"保存"})}),e.jsx("div",{className:"ml-24",children:e.jsx(d,{type:"default",onClick:()=>m(-1),children:"取消"})})]})})]})};export{U as default};
