import{f as _,u as j,b as g,r,t as w,j as e,I as l,B as u,m as C}from"./index-b4683d61.js";import{b as v,e as y}from"./creditMall-68ad6dbc.js";import{B as F}from"./index-5f967da4.js";import{F as t}from"./index-d434f3eb.js";import"./LeftOutlined-9e6e73a2.js";import"./row-4ee18533.js";import"./responsiveObserver-dc429d3b.js";const L=()=>{const o=new URLSearchParams(_().search),[i]=t.useForm(),p=j(),d=g(),[m,n]=r.useState(!1),[c,h]=r.useState(Number(o.get("id")));r.useEffect(()=>{document.title="编辑积分订单",p(w("编辑积分订单"))},[]),r.useEffect(()=>{h(Number(o.get("id"))),x()},[o.get("id")]);const x=()=>{c!==0&&v(c).then(a=>{var s=a.data;i.setFieldsValue({user_contact_name:s.user_contact_name,user_contact_mobile:s.user_contact_mobile,user_contact_address:s.user_contact_address,express_number:s.express_number})})},b=a=>{m||(n(!0),y(c,a).then(s=>{n(!1),C.success("保存成功！"),d(-1)}).catch(s=>{n(!1)}))},f=a=>{console.log("Failed:",a)};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(F,{title:"编辑积分订单"}),e.jsx("div",{className:"float-left mt-30",children:e.jsxs(t,{form:i,name:"creditMall-orders-update",labelCol:{span:3},wrapperCol:{span:21},initialValues:{remember:!0},onFinish:b,onFinishFailed:f,autoComplete:"off",children:[e.jsx(t.Item,{label:"联系名称",name:"user_contact_name",rules:[{required:!0,message:"请输入联系名称!"}],children:e.jsx(l,{style:{width:300},placeholder:"请输入联系名称",allowClear:!0})}),e.jsx(t.Item,{label:"联系手机",name:"user_contact_mobile",rules:[{required:!0,message:"请输入联系手机!"}],children:e.jsx(l,{type:"number",style:{width:300},placeholder:"请输入联系手机",allowClear:!0})}),e.jsx(t.Item,{label:"联系地址",name:"user_contact_address",rules:[{required:!0,message:"请输入联系地址!"}],children:e.jsx(l,{style:{width:300},placeholder:"请输入联系地址",allowClear:!0})}),e.jsx(t.Item,{label:"运单号",name:"express_number",rules:[{required:!0,message:"请输入运单号!"}],children:e.jsx(l,{style:{width:300},placeholder:"请输入运单号",allowClear:!0})})]})}),e.jsx("div",{className:"bottom-menus",children:e.jsxs("div",{className:"bottom-menus-box",children:[e.jsx("div",{children:e.jsx(u,{loading:m,type:"primary",onClick:()=>i.submit(),children:"保存"})}),e.jsx("div",{className:"ml-24",children:e.jsx(u,{type:"default",onClick:()=>d(-1),children:"取消"})})]})})]})};export{L as default};
