import{u as p,b as g,r as d,t as f,j as e,S as r,I as i,B as c,h as b,m as y}from"./index-b4683d61.js";import{a as v}from"./promocode-79347298.js";import{B as w}from"./index-5f967da4.js";import{H as a}from"./index-133d6e1c.js";import{F as s}from"./index-d434f3eb.js";import{D as C}from"./index-cc7d88a3.js";import"./LeftOutlined-9e6e73a2.js";import"./InfoCircleOutlined-4d24221b.js";import"./row-4ee18533.js";import"./responsiveObserver-dc429d3b.js";const M=()=>{const[m]=s.useForm(),u=p(),n=g(),[o,l]=d.useState(!1);d.useEffect(()=>{document.title="新建优惠码",u(f("新建优惠码"))},[]);const h=t=>{o||(l(!0),t.expired_at=b(new Date(t.expired_at)).format("YYYY-MM-DD HH:mm"),v(t).then(j=>{l(!1),y.success("保存成功！"),n(-1)}).catch(j=>{l(!1)}))},x=t=>{console.log("Failed:",t)};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(w,{title:"新建优惠码"}),e.jsx("div",{className:"float-left mt-30",children:e.jsxs(s,{form:m,name:"promoCode-create",labelCol:{span:3},wrapperCol:{span:21},initialValues:{remember:!0},onFinish:h,onFinishFailed:x,autoComplete:"off",children:[e.jsx(s.Item,{label:"优惠码",name:"code",rules:[{required:!0,message:"请输入优惠码!"}],children:e.jsxs(r,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"code",rules:[{required:!0,message:"请输入优惠码!"}],children:e.jsx(i,{style:{width:300},placeholder:"请输入优惠码",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(a,{text:"请勿使用大写U或者小写u开头"})})]})}),e.jsx(s.Item,{label:"到期时间",required:!0,children:e.jsxs(r,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"expired_at",rules:[{required:!0,message:"请选择到期时间!"}],children:e.jsx(C,{format:"YYYY-MM-DD HH:mm",style:{width:300},showTime:!0,placeholder:"请选择到期时间"})}),e.jsx("div",{className:"ml-10",children:e.jsx(a,{text:"过期时间到了之后优惠码便无法使用了"})})]})}),e.jsx(s.Item,{label:"面值",name:"invited_user_reward",rules:[{required:!0,message:"请输入面值!"}],children:e.jsxs(r,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"invited_user_reward",rules:[{required:!0,message:"请输入面值!"}],children:e.jsx(i,{type:"number",style:{width:300},placeholder:"请输入面值",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(a,{text:"请输入整数。不支持小数。可在收银台抵扣的金额。"})})]})}),e.jsx(s.Item,{label:"可使用次数",name:"use_times",rules:[{required:!0,message:"请输入可使用次数!"}],children:e.jsxs(r,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"use_times",rules:[{required:!0,message:"请输入可使用次数!"}],children:e.jsx(i,{type:"number",style:{width:300},placeholder:"请输入可使用次数",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(a,{text:"请输入整数。0意味着不限制。"})})]})})]})}),e.jsx("div",{className:"bottom-menus",children:e.jsxs("div",{className:"bottom-menus-box",children:[e.jsx("div",{children:e.jsx(c,{loading:o,type:"primary",onClick:()=>m.submit(),children:"保存"})}),e.jsx("div",{className:"ml-24",children:e.jsx(c,{type:"default",onClick:()=>n(-1),children:"取消"})})]})})]})};export{M as default};
