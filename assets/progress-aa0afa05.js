import{f as x,u as j,r as i,t as _,j as t}from"./index-b4683d61.js";import{g as b}from"./practice-e65e37d7.js";import{B as S}from"./index-5f967da4.js";import{T as N}from"./Table-76e623b5.js";import"./LeftOutlined-9e6e73a2.js";import"./addEventListener-a27ae3f4.js";import"./useIcons-e0af7133.js";import"./CheckOutlined-e6bc730e.js";import"./Pagination-d2c763c6.js";import"./useForceUpdate-f2aff5e0.js";import"./responsiveObserver-dc429d3b.js";import"./index-c09cc6d7.js";import"./index-10f1a096.js";import"./iconUtil-f3f90360.js";const I=()=>{const r=new URLSearchParams(x().search),d=j(),[n,a]=i.useState(!1),[m,u]=i.useState([]),[l,P]=i.useState(!1),[o,p]=i.useState(Number(r.get("id"))),[c,f]=i.useState(Number(r.get("pid")));i.useEffect(()=>{document.title="练习进度",d(_("练习进度"))},[]),i.useEffect(()=>{p(Number(r.get("id"))),f(Number(r.get("pid")))},[r.get("id"),r.get("pid")]),i.useEffect(()=>{h()},[o,c,l]);const h=()=>{n||(a(!0),b(o,c).then(s=>{u(s.data.data),a(!1)}).catch(s=>{a(!1)}))},g=[{title:"章节",render:(s,e)=>t.jsx("span",{children:e.chapter_name})},{title:"题目数",width:150,render:(s,e)=>t.jsxs("span",{children:[e.question_count,"题"]})},{title:"已练习",width:150,render:(s,e)=>t.jsxs("span",{children:[e.submit_count,"题"]})},{title:"进度",width:150,render:(s,e)=>t.jsx(t.Fragment,{children:e.question_count!==0?t.jsxs("span",{children:[(e.submit_count*100/e.question_count).toFixed(2),"%"]}):t.jsx("span",{children:"0.00%"})})}];return t.jsxs("div",{className:"meedu-main-body",children:[t.jsx(S,{title:"练习进度"}),t.jsx("div",{className:"float-left mt-30",children:t.jsx(N,{loading:n,columns:g,dataSource:m,rowKey:s=>s.id,pagination:!1})})]})};export{I as default};
