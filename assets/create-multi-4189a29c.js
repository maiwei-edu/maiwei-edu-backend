import{u as j,b as f,r as d,t as g,j as e,I as a,S as l,B as c,h as b,m as y}from"./index-3fd54424.js";import{c as C}from"./promocode-0f89ead7.js";import{B as w}from"./index-c3c15456.js";import{H as i}from"./index-d5d1e443.js";import{F as s}from"./index-0ca68444.js";import{D as v}from"./index-a9db941d.js";import"./LeftOutlined-a0f8cfa6.js";import"./InfoCircleOutlined-fefc69ce.js";import"./row-98a37fbf.js";import"./responsiveObserver-a0dea2e5.js";const E=()=>{const[m]=s.useForm(),u=j(),n=f(),[o,r]=d.useState(!1);d.useEffect(()=>{document.title="优惠码批量生成",u(g("优惠码批量生成"))},[]);const h=t=>{o||(r(!0),t.expired_at=b(new Date(t.expired_at)).format("YYYY-MM-DD HH:mm"),C(t).then(p=>{r(!1),y.success("保存成功！"),n(-1)}).catch(p=>{r(!1)}))},x=t=>{console.log("Failed:",t)};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(w,{title:"优惠码批量生成"}),e.jsx("div",{className:"float-left mt-30",children:e.jsxs(s,{form:m,name:"promoCode-create-multi",labelCol:{span:3},wrapperCol:{span:21},initialValues:{remember:!0},onFinish:h,onFinishFailed:x,autoComplete:"off",children:[e.jsx(s.Item,{label:"统一前缀",name:"prefix",rules:[{required:!0,message:"请输入前缀!"}],children:e.jsx(a,{style:{width:300},placeholder:"请输入前缀",allowClear:!0})}),e.jsx(s.Item,{label:"生成数量",name:"num",rules:[{required:!0,message:"请输入生成数量!"}],children:e.jsxs(l,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"num",rules:[{required:!0,message:"请输入生成数量!"}],children:e.jsx(a,{type:"number",style:{width:300},placeholder:"请输入生成数量",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(i,{text:"请输入整数。为防止系统卡顿导致生成失败，请勿输入超过1000的数字。"})})]})}),e.jsx(s.Item,{label:"到期时间",required:!0,children:e.jsxs(l,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"expired_at",rules:[{required:!0,message:"请选择到期时间!"}],children:e.jsx(v,{format:"YYYY-MM-DD HH:mm",style:{width:300},showTime:!0,placeholder:"请选择到期时间"})}),e.jsx("div",{className:"ml-10",children:e.jsx(i,{text:"该字段决定优惠码的有效期限，到了选定的时间就无法使用了。"})})]})}),e.jsx(s.Item,{label:"面值",name:"money",rules:[{required:!0,message:"请输入面值!"}],children:e.jsxs(l,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"money",rules:[{required:!0,message:"请输入面值!"}],children:e.jsx(a,{type:"number",style:{width:300},placeholder:"请输入面值",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(i,{text:"请输入整数。不支持小数。面值是学员使用该码在收银台可抵扣的金额。"})})]})})]})}),e.jsx("div",{className:"bottom-menus",children:e.jsxs("div",{className:"bottom-menus-box",children:[e.jsx("div",{children:e.jsx(c,{loading:o,type:"primary",onClick:()=>m.submit(),children:"保存"})}),e.jsx("div",{className:"ml-24",children:e.jsx(c,{type:"default",onClick:()=>n(-1),children:"取消"})})]})})]})};export{E as default};
