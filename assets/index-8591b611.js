import{u as j,b as y,r as i,t as g,j as t,S as b,E as k,m as I,M as C}from"./index-3fd54424.js";import{l as E,d as P}from"./role-ccbd4852.js";import{P as r}from"./index-df05a090.js";import{T as S}from"./Table-59a53b18.js";import"./addEventListener-1752243f.js";import"./useIcons-235bc0cd.js";import"./CheckOutlined-44e74bd9.js";import"./Pagination-a2ebdf00.js";import"./LeftOutlined-a0f8cfa6.js";import"./useForceUpdate-56773729.js";import"./responsiveObserver-a0dea2e5.js";import"./index-ff4e3b6e.js";import"./index-a56efb1a.js";import"./iconUtil-14ff0944.js";const{confirm:v}=C,$=()=>{const d=j(),n=y(),[l,s]=i.useState(!1),[p,o]=i.useState([]),[c,m]=i.useState(!1);i.useEffect(()=>{document.title="VIP会员",d(g("VIP会员"))},[]),i.useEffect(()=>{u()},[c]);const u=()=>{l||(s(!0),E().then(e=>{o(e.data.data),s(!1)}).catch(e=>{s(!1)}))},x=[{title:"ID",width:120,render:(e,a)=>t.jsx("span",{children:a.id})},{title:"会员名称",dataIndex:"name",render:e=>t.jsx("span",{children:e})},{title:"天数",dataIndex:"expire_days",render:e=>t.jsx("span",{children:e})},{title:"价格",dataIndex:"charge",render:e=>t.jsxs("span",{children:[e,"元"]})},{title:"操作",width:130,render:(e,a)=>t.jsxs(b,{children:[t.jsx(r,{type:"link",text:"编辑",class:"c-primary",icon:null,p:"role.update",onClick:()=>{n("/editrole?id="+a.id)},disabled:null}),t.jsx(r,{type:"link",text:"删除",class:"c-red",icon:null,p:"role.destroy",onClick:()=>{h(a.id)},disabled:null})]})}],f=()=>{o([]),m(!c)},h=e=>{e!==0&&v({title:"操作确认",icon:t.jsx(k,{}),content:"确认删除此VIP？",centered:!0,okText:"确认",cancelText:"取消",onOk(){l||(s(!0),P(e).then(()=>{s(!1),I.success("删除成功"),f()}).catch(a=>{s(!1)}))},onCancel(){console.log("Cancel")}})};return t.jsxs("div",{className:"meedu-main-body",children:[t.jsx("div",{className:"float-left mb-30",children:t.jsx(r,{type:"primary",text:"新建会员",class:"",icon:null,p:"role.store",onClick:()=>n("/addrole"),disabled:null})}),t.jsx("div",{className:"float-left",children:t.jsx(S,{loading:l,columns:x,dataSource:p,rowKey:e=>e.id,pagination:!1})})]})};export{$ as default};
