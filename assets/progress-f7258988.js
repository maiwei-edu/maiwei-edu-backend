import{f as x,u as j,r as i,t as _,j as t}from"./index-3fd54424.js";import{g as b}from"./practice-c882748e.js";import{B as S}from"./index-c3c15456.js";import{T as N}from"./Table-59a53b18.js";import"./LeftOutlined-a0f8cfa6.js";import"./addEventListener-1752243f.js";import"./useIcons-235bc0cd.js";import"./CheckOutlined-44e74bd9.js";import"./Pagination-a2ebdf00.js";import"./useForceUpdate-56773729.js";import"./responsiveObserver-a0dea2e5.js";import"./index-ff4e3b6e.js";import"./index-a56efb1a.js";import"./iconUtil-14ff0944.js";const I=()=>{const r=new URLSearchParams(x().search),d=j(),[n,a]=i.useState(!1),[m,u]=i.useState([]),[l,P]=i.useState(!1),[o,p]=i.useState(Number(r.get("id"))),[c,f]=i.useState(Number(r.get("pid")));i.useEffect(()=>{document.title="练习进度",d(_("练习进度"))},[]),i.useEffect(()=>{p(Number(r.get("id"))),f(Number(r.get("pid")))},[r.get("id"),r.get("pid")]),i.useEffect(()=>{h()},[o,c,l]);const h=()=>{n||(a(!0),b(o,c).then(s=>{u(s.data.data),a(!1)}).catch(s=>{a(!1)}))},g=[{title:"章节",render:(s,e)=>t.jsx("span",{children:e.chapter_name})},{title:"题目数",width:150,render:(s,e)=>t.jsxs("span",{children:[e.question_count,"题"]})},{title:"已练习",width:150,render:(s,e)=>t.jsxs("span",{children:[e.submit_count,"题"]})},{title:"进度",width:150,render:(s,e)=>t.jsx(t.Fragment,{children:e.question_count!==0?t.jsxs("span",{children:[(e.submit_count*100/e.question_count).toFixed(2),"%"]}):t.jsx("span",{children:"0.00%"})})}];return t.jsxs("div",{className:"meedu-main-body",children:[t.jsx(S,{title:"练习进度"}),t.jsx("div",{className:"float-left mt-30",children:t.jsx(N,{loading:n,columns:g,dataSource:m,rowKey:s=>s.id,pagination:!1})})]})};export{I as default};
