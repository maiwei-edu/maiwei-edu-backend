import{u as N,b as T,r as s,t as v,j as e,B as c,S as w,E as B,m as D,M as z}from"./index-b4683d61.js";import{w as P,x as L}from"./member-43775307.js";import{B as M}from"./index-5f967da4.js";import{T as I}from"./Table-76e623b5.js";import"./LeftOutlined-9e6e73a2.js";import"./addEventListener-a27ae3f4.js";import"./useIcons-e0af7133.js";import"./CheckOutlined-e6bc730e.js";import"./Pagination-d2c763c6.js";import"./useForceUpdate-f2aff5e0.js";import"./responsiveObserver-dc429d3b.js";import"./index-c09cc6d7.js";import"./index-10f1a096.js";import"./iconUtil-f3f90360.js";const{confirm:R}=z,Y=()=>{const p=N(),l=T(),[i,n]=s.useState(!1),[u,m]=s.useState([]),[r,f]=s.useState(1),[o,h]=s.useState(10),[g,x]=s.useState(0),[d,j]=s.useState(!1);s.useEffect(()=>{document.title="标签管理",p(v("标签管理"))},[]),s.useEffect(()=>{S()},[r,o,d]);const S=()=>{i||(n(!0),P({page:r,size:o}).then(t=>{m(t.data.data),x(t.data.total),n(!1)}).catch(t=>{n(!1)}))},y={current:r,pageSize:o,total:g,onChange:(t,a)=>C(t,a),showSizeChanger:!0},C=(t,a)=>{f(t),h(a)},k=[{title:"ID",width:120,render:(t,a)=>e.jsx("span",{children:a.id})},{title:"标签名",dataIndex:"name",render:t=>e.jsx("span",{children:t})},{title:"操作",width:130,render:(t,a)=>e.jsxs(w,{children:[e.jsx(c,{type:"link",className:"c-primary",onClick:()=>{l("/member/tag/update?id="+a.id)},children:"编辑"}),e.jsx(c,{type:"link",className:"c-red",onClick:()=>{E(a.id)},children:"编辑"})]})}],b=()=>{m([]),j(!d)},E=t=>{t!==0&&R({title:"操作确认",icon:e.jsx(B,{}),content:"确认删除此标签？",centered:!0,okText:"确认",cancelText:"取消",onOk(){i||(n(!0),L(t).then(()=>{n(!1),D.success("删除成功"),b()}).catch(a=>{n(!1)}))},onCancel(){console.log("Cancel")}})};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(M,{title:"标签管理"}),e.jsx("div",{className:"float-left  mt-30 mb-30",children:e.jsx(c,{type:"primary",onClick:()=>l("/member/tag/create"),children:"添加标签"})}),e.jsx("div",{className:"float-left",children:e.jsx(I,{loading:i,columns:k,dataSource:u,rowKey:t=>t.id,pagination:y})})]})};export{Y as default};
