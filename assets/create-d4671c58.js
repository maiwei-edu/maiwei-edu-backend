import{u as g,b as f,r as c,t as b,j as e,I as a,S as i,B as d,m as y}from"./index-b4683d61.js";import{s as I}from"./role-513b287e.js";import{B as w}from"./index-5f967da4.js";import{H as n}from"./index-133d6e1c.js";import{F as s}from"./index-d434f3eb.js";import{S as v}from"./index-918ef875.js";import"./LeftOutlined-9e6e73a2.js";import"./InfoCircleOutlined-4d24221b.js";import"./row-4ee18533.js";import"./responsiveObserver-dc429d3b.js";const E=()=>{const[l]=s.useForm(),h=g(),m=f(),[o,r]=c.useState(!1);c.useEffect(()=>{document.title="新建会员",h(b("新建会员")),l.setFieldsValue({is_show:1})},[]);const u=t=>{o||(r(!0),I(t).then(j=>{r(!1),y.success("保存成功！"),m(-1)}).catch(j=>{r(!1)}))},x=t=>{console.log("Failed:",t)},p=t=>{t?l.setFieldsValue({is_show:1}):l.setFieldsValue({is_show:0})};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(w,{title:"新建会员"}),e.jsx("div",{className:"float-left mt-30",children:e.jsxs(s,{form:l,name:"role-create",labelCol:{span:3},wrapperCol:{span:21},initialValues:{remember:!0},onFinish:u,onFinishFailed:x,autoComplete:"off",children:[e.jsx(s.Item,{label:"VIP名",name:"name",rules:[{required:!0,message:"请输入VIP名!"}],children:e.jsx(a,{style:{width:300},placeholder:"请输入VIP名",allowClear:!0})}),e.jsx(s.Item,{label:"天数",name:"expire_days",rules:[{required:!0,message:"请输入天数!"}],children:e.jsxs(i,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"expire_days",rules:[{required:!0,message:"请输入天数!"}],children:e.jsx(a,{type:"number",style:{width:300},placeholder:"请输入天数",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(n,{text:"决定用户购买VIP之后可享受的天数。"})})]})}),e.jsx(s.Item,{label:"价格",name:"charge",rules:[{required:!0,message:"请输入价格!"}],children:e.jsxs(i,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"charge",rules:[{required:!0,message:"请输入价格!"}],children:e.jsx(a,{type:"number",style:{width:300},placeholder:"请输入价格",allowClear:!0})}),e.jsx("div",{className:"ml-10",children:e.jsx(n,{text:"请输入整数。不支持小数。"})})]})}),e.jsx(s.Item,{label:"显示",children:e.jsxs(i,{align:"baseline",style:{height:32},children:[e.jsx(s.Item,{name:"is_show",valuePropName:"checked",children:e.jsx(v,{onChange:p})}),e.jsx("div",{className:"ml-10",children:e.jsx(n,{text:"控制用户是否能够看到并购买该VIP"})})]})}),e.jsx(s.Item,{label:"描述",name:"description",rules:[{required:!0,message:"请输入描述!"}],children:e.jsx(a.TextArea,{style:{width:500,minHeight:120},placeholder:"一行一个描述",allowClear:!0,maxLength:200})})]})}),e.jsx("div",{className:"bottom-menus",children:e.jsxs("div",{className:"bottom-menus-box",children:[e.jsx("div",{children:e.jsx(d,{loading:o,type:"primary",onClick:()=>l.submit(),children:"保存"})}),e.jsx("div",{className:"ml-24",children:e.jsx(d,{type:"default",onClick:()=>m(-1),children:"取消"})})]})})]})};export{E as default};
